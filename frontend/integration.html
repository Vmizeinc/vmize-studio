<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integration Guide - Vmize Studio</title>
    <link rel="icon" href="favicon.svg">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --vmize-purple: #6B4CE6;
            --vmize-purple-hover: #5a3dd5;
            --vmize-blue: #4CC9F0;
            --text-primary: #1a1a1a;
            --text-secondary: #666;
            --bg-light: #f8f9fa;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-light);
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #e0e0e0;
            z-index: 1000;
            padding: 16px 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--vmize-purple), var(--vmize-blue));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 20px;
        }

        .logo-text {
            font-size: 20px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--vmize-purple), var(--vmize-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 32px;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--vmize-purple);
        }

        .btn {
            padding: 10px 24px;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
            display: inline-block;
            cursor: pointer;
            border: none;
            font-size: 15px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--vmize-purple), var(--vmize-blue));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(107, 76, 230, 0.4);
        }

        /* Main Content */
        .container {
            max-width: 900px;
            margin: 100px auto 0;
            padding: 40px 20px;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--vmize-purple);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: var(--vmize-purple-hover);
            transform: translateX(-4px);
        }

        .page-header {
            background: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            text-align: center;
        }

        .page-header h1 {
            font-size: 42px;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--vmize-purple), var(--vmize-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-header p {
            font-size: 18px;
            color: var(--text-secondary);
        }

        /* Steps */
        .step {
            background: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--vmize-purple), var(--vmize-blue));
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            font-size: 20px;
            margin-right: 15px;
        }

        .step h2 {
            display: inline-block;
            font-size: 28px;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .step p {
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 16px;
        }

        /* Code Block */
        .code-container {
            position: relative;
            margin: 20px 0;
        }

        pre {
            background: #1a1a1a;
            color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            position: relative;
        }

        code {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 8px 16px;
            background: var(--vmize-purple);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }

        .copy-btn:hover {
            background: var(--vmize-purple-hover);
        }

        .copy-btn.copied {
            background: #28a745;
        }

        /* Alert */
        .alert {
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid;
        }

        .alert-warning {
            background: #fff3cd;
            border-color: #ffa500;
            color: #856404;
        }

        .alert-success {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        /* API Key Section */
        .api-key-section {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .api-key-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 16px;
            font-family: 'Courier New', monospace;
        }

        /* Platform Tabs */
        .platform-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        .platform-tab {
            padding: 12px 24px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: 600;
            color: var(--text-secondary);
            transition: all 0.3s;
        }

        .platform-tab.active {
            color: var(--vmize-purple);
            border-bottom: 3px solid var(--vmize-purple);
            margin-bottom: -2px;
        }

        .platform-content {
            display: none;
        }

        .platform-content.active {
            display: block;
        }

        /* Footer */
        footer {
            background: #1a1a1a;
            color: white;
            padding: 60px 24px 24px;
            margin-top: 100px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 48px;
            margin-bottom: 48px;
        }

        .footer-section h4 {
            margin-bottom: 16px;
        }

        .footer-section a {
            display: block;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            margin-bottom: 12px;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 24px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
        }

        /* Responsive */
        @media (max-width: 968px) {
            .nav-links {
                display: none;
            }

            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-icon">V</div>
                <div class="logo-text">Vmize Studio</div>
            </a>
            <div class="nav-links">
                <a href="index.html#features">Features</a>
                <a href="index.html#demo">Try Demo</a>
                <a href="index.html#pricing">Pricing</a>
                <a href="integration.html">Integration</a>
                <a href="dashboard.html">Dashboard</a>
                <a href="login.html">Login</a>
                <a href="register.html" class="btn btn-primary">Get Started</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <a href="#" onclick="goBack(); return false;" class="back-btn">
            ‚Üê Back
        </a>

        <!-- Page Header -->
        <div class="page-header">
            <h1>Integration Guide</h1>
            <p>Add Virtual Try-On to your product pages in 3 simple steps</p>
        </div>

        <!-- Step 1 -->
        <div class="step">
            <span class="step-number">1</span>
            <h2>Get Your API Key</h2>
            <p>Copy your unique API key from your dashboard.</p>
            
            <div class="api-key-section">
                <label style="display: block; margin-bottom: 10px; font-weight: 600;">Your API Key:</label>
                <input type="text" class="api-key-input" value="vmize_pk_live_YOUR_KEY_HERE" readonly>
                <p style="margin-top: 10px; font-size: 14px; color: var(--text-secondary);">
                    <strong>Note:</strong> Get your actual API key from the <a href="dashboard-complete.html" style="color: var(--vmize-purple);">Dashboard</a>
                </p>
            </div>
        </div>

        <!-- Step 2 -->
        <div class="step">
            <span class="step-number">2</span>
            <h2>Choose Your Platform</h2>
            <p>Select your e-commerce platform below.</p>

            <div class="platform-tabs">
                <button class="platform-tab active" onclick="showPlatform('shopify')">Shopify</button>
                <button class="platform-tab" onclick="showPlatform('woocommerce')">WooCommerce</button>
                <button class="platform-tab" onclick="showPlatform('custom')">Custom / Other</button>
            </div>

            <div id="shopify" class="platform-content active">
                <h3 style="margin-bottom: 15px;">Shopify Integration</h3>
                <ol style="margin-left: 20px; color: var(--text-secondary);">
                    <li>Go to Shopify Admin ‚Üí Online Store ‚Üí Themes</li>
                    <li>Click "Actions" ‚Üí "Edit code"</li>
                    <li>Open sections/product-template.liquid</li>
                    <li>Find the "Add to Cart" button</li>
                    <li>Paste code before "Add to Cart" button</li>
                </ol>
            </div>

            <div id="woocommerce" class="platform-content">
                <h3 style="margin-bottom: 15px;">WooCommerce Integration</h3>
                <ol style="margin-left: 20px; color: var(--text-secondary);">
                    <li>Go to WordPress Admin ‚Üí Appearance ‚Üí Theme Editor</li>
                    <li>Open woocommerce/single-product.php</li>
                    <li>Find "Add to Cart" section</li>
                    <li>Paste code before "Add to Cart" button</li>
                </ol>
            </div>

            <div id="custom" class="platform-content">
                <h3 style="margin-bottom: 15px;">Custom Platform</h3>
                <p style="color: var(--text-secondary);">
                    Paste the code on your product page where you want the button.
                </p>
            </div>
        </div>

        <!-- Step 3 -->
        <div class="step">
            <span class="step-number">3</span>
            <h2>Copy & Paste This Code</h2>
            <p>Add this code to your product page.</p>

            <div class="alert alert-warning">
                <strong>‚ö†Ô∏è Important:</strong> Replace YOUR_API_KEY_HERE with your actual API key from step 1.
            </div>

            <div class="code-container">
                <button class="copy-btn" onclick="copyCode()">Copy Code</button>
                <pre><code id="integrationCode"><!-- Vmize Virtual Try-On Widget -->
<div id="vmize-tryon-widget"></div>

<script>
(function() {
  // Your Vmize API Key
  const VMIZE_API_KEY = 'YOUR_API_KEY_HERE'; // Replace with your vmize_pk_ key
  
    // API Endpoint ‚Äî use runtime-configurable VMIZE_API_URL when embedding on external sites
    // Use versioned endpoints by default (backend exposes `/api/v1/*`). When embedding
    // externally provide `window.VMIZE_API_URL` that points to the hosted API base.
    const API_ENDPOINT = (window.VMIZE_API_URL && window.VMIZE_API_URL.length)
        ? (window.VMIZE_API_URL.replace(/\/$/, '') + '/api/v1/tryon')
        : (window.location.origin.replace(/\/$/, '') + '/api/v1/tryon');
  
  // Create Try-On Button
  const widget = document.getElementById('vmize-tryon-widget');
  const button = document.createElement('button');
  button.innerHTML = 'üëó Try On Virtually';
  button.style.cssText = `
    background: linear-gradient(135deg, #6B4CE6, #4CC9F0);
    color: white;
    border: none;
    padding: 15px 30px;
    font-size: 16px;
    font-weight: 600;
    border-radius: 8px;
    cursor: pointer;
    margin: 10px 0;
    transition: transform 0.2s;
  `;
  button.onmouseover = () => button.style.transform = 'translateY(-2px)';
  button.onmouseout = () => button.style.transform = 'translateY(0)';
  button.onclick = openVmizeTryOn;
  widget.appendChild(button);
  
  // Get current product image
  function getProductImage() {
    const img = document.querySelector('img[data-product-image], .product-image img, img[itemprop="image"]');
    return img ? img.src : null;
  }
  
  // Open Try-On Modal
  function openVmizeTryOn() {
    const productImage = getProductImage();
    
    if (!productImage) {
      alert('Product image not found. Please contact support.');
      return;
    }
    
    const modal = document.createElement('div');
    modal.id = 'vmize-modal';
    modal.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
    `;
    
    const modalContent = document.createElement('div');
    modalContent.style.cssText = `
      background: white;
      padding: 40px;
      border-radius: 20px;
      max-width: 500px;
      width: 90%;
      text-align: center;
    `;
    
    modalContent.innerHTML = `
      <h2 style="margin-bottom: 20px; background: linear-gradient(135deg, #6B4CE6, #4CC9F0); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Virtual Try-On</h2>
      <p style="margin-bottom: 20px; color: #666;">Upload your photo to see how this looks on you!</p>
      
      <input type="file" id="vmize-photo-upload" accept="image/*" style="display: none;">
      <button onclick="document.getElementById('vmize-photo-upload').click()" style="background: linear-gradient(135deg, #6B4CE6, #4CC9F0); color: white; border: none; padding: 15px 30px; font-size: 16px; font-weight: 600; border-radius: 8px; cursor: pointer; width: 100%; margin-bottom: 15px;">
        üì∏ Upload Your Photo
      </button>
      
      <button onclick="document.getElementById('vmize-modal').remove()" style="background: #f0f0f0; color: #666; border: none; padding: 12px 24px; font-size: 14px; border-radius: 6px; cursor: pointer;">
        Cancel
      </button>
      
      <div id="vmize-result" style="margin-top: 20px;"></div>
    `;
    
    modal.appendChild(modalContent);
    document.body.appendChild(modal);
    
    document.getElementById('vmize-photo-upload').onchange = function(e) {
      const file = e.target.files[0];
      if (file) {
        processTryOn(file, productImage);
      }
    };
  }
  
  // Process Try-On
  async function processTryOn(userPhoto, productImage) {
    const resultDiv = document.getElementById('vmize-result');
    resultDiv.innerHTML = '<div style="padding: 20px;">‚è≥ Processing your virtual try-on...</div>';
    
    try {
      const userPhotoBase64 = await fileToBase64(userPhoto);
      
      // Call Vmize API
      const response = await fetch(API_ENDPOINT, {
        method: 'POST',
        headers: {
          'X-Vmize-API-Key': VMIZE_API_KEY,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          model_image: userPhotoBase64,
          garment_image: productImage
        })
      });
      
      if (!response.ok) {
        throw new Error('Failed to start try-on');
      }
      
      const { prediction_id } = await response.json();
      
      // Poll for result
      const resultUrl = await pollForResult(prediction_id);
      
      if (resultUrl) {
        const img = document.createElement('img');
        img.style.maxWidth = '100%';
        img.style.borderRadius = '12px';
        img.style.boxShadow = '0 4px 20px rgba(0,0,0,0.1)';
        img.src = resultUrl;
        
        const btnWrap = document.createElement('div');
        btnWrap.style.marginTop = '15px';
        
        const dlBtn = document.createElement('button');
        dlBtn.style.cssText = 'background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; margin: 5px;';
        dlBtn.textContent = 'üíæ Download';
        dlBtn.onclick = () => window.open(resultUrl, '_blank');
        
        const shBtn = document.createElement('button');
        shBtn.style.cssText = 'background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; margin: 5px;';
        shBtn.textContent = 'üì± Share';
        shBtn.onclick = () => {
          if (navigator.share) {
            navigator.share({ title: 'My Virtual Try-On', url: resultUrl });
          } else {
            alert('Share this link: ' + resultUrl);
          }
        };
        
        resultDiv.innerHTML = '';
        resultDiv.appendChild(img);
        btnWrap.appendChild(dlBtn);
        btnWrap.appendChild(shBtn);
        resultDiv.appendChild(btnWrap);
      } else {
        resultDiv.innerHTML = '<p style="color: red;">‚ùå Try-on failed. Please try again.</p>';
      }
    } catch (error) {
      resultDiv.innerHTML = '<p style="color: red;">‚ùå Error: ' + error.message + '</p>';
    }
  }
  
  // Poll for result
  async function pollForResult(predictionId) {
    const maxAttempts = 60;
    let attempts = 0;
    
    while (attempts < maxAttempts) {
      const response = await fetch(`${API_ENDPOINT}/${predictionId}`, {
        headers: { 'X-Vmize-API-Key': VMIZE_API_KEY }
      });
      
      const data = await response.json();
      
      if (data.status === 'completed') {
        return data.output_url;
      } else if (data.status === 'failed') {
        throw new Error(data.error || 'Processing failed');
      }
      
      await new Promise(r => setTimeout(r, 2000));
      attempts++;
    }
    
    throw new Error('Timeout waiting for result');
  }
  
  // Helper: Convert file to base64
  function fileToBase64(file) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.onload = () => resolve(reader.result);
      reader.onerror = reject;
      reader.readAsDataURL(file);
    });
  }
})();
</script></code></pre>
            </div>

            <div class="alert alert-success">
                <strong>‚úÖ That's it!</strong> The button will now appear on your product pages.
            </div>
        </div>

        <!-- Support -->
        <div class="step">
            <h2 style="text-align: center; margin-bottom: 20px;">Need Help?</h2>
            <div style="text-align: center;">
                <a href="mailto:contactus@vmizestudio.com" class="btn btn-primary">üìß Contact Support</a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Product</h4>
                <a href="index.html#features">Features</a>
                <a href="index.html#demo">Try Demo</a>
                <a href="index.html#pricing">Pricing</a>
                <a href="integration.html">Integration</a>
            </div>
            <div class="footer-section">
                <h4>Company</h4>
                <a href="about.html">About</a>
                <a href="terms.html">Terms</a>
                <a href="privacy.html">Privacy</a>
                <a href="mailto:contactus@vmizestudio.com">Contact</a>
            </div>
            <div class="footer-section">
                <h4>Resources</h4>
                <a href="integration.html">Documentation</a>
                <a href="dashboard.html">Dashboard</a>
            </div>
            <div class="footer-section">
                <h4>Connect</h4>
                <a href="mailto:contactus@vmizestudio.com">contactus@vmizestudio.com</a>
                <a href="#">San Jose, California</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Vmize Studio. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Smart back navigation
        function goBack() {
            if (document.referrer && document.referrer.indexOf(window.location.host) !== -1) {
                window.history.back();
            } else {
                window.location.href = 'index.html';
            }
        }

        function showPlatform(platform) {
            document.querySelectorAll('.platform-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.platform-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(platform).classList.add('active');
            event.target.classList.add('active');
        }
        
        function copyCode() {
            const code = document.getElementById('integrationCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = event.target;
                btn.textContent = '‚úì Copied!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'Copy Code';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }
    </script>
</body>
</html>